# serverlessWebHosting
This repository has the detailed guide and driver codes for building a secure website using GoDaddy and AWS services like AWS S3, WAF, CDN, Lambda and DynamoDB

# 1, GoDaddy - Domain Purchase:
  * Purchase a domain in GoDaddy.
# 2, S3:
  * Create an S3 bucket with the same name as that of the domain name.
  * Upload the static file content of the website to the S3 bucket created above.
  * Go to the **Properties>Static website hosting** Section and then click **Edit**.
  * Configure the below settings and click Save:
    - Static website hosting: Enable
    - Hosting type: Host a static website
    - Index document: index.html
  * Go to the **Permission>Block public access** Section and then click **Edit**.
  * Uncheck all the option to enable the public access.
  * Go to the **Permission>Bucket policy** Section and then paste the below content:
        {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "PublicReadGetObject",
                "Effect": "Allow",
                "Principal": "*",
                "Action": "s3:GetObject",
                "Resource": "arn:aws:s3:::<Bucket-Name>/*"
            }
        ]
    }
   * Save the changes.
# 3, ACM:
  * Request a new Public certificate.
  * Configure the below section and then click request:
    - Fully qualified domain name: *.<domain name>
# 4, Godaddy - Cname addition:
  * Go to the **DNS > DNS Record** section of the GoDaddy
  * Add new Record. Configure the below option from the ACM certificate created above:
    - Type: CNAME
    - Name: CName name from the ACM certificate
    - Value: CNAME value from the ACM certificate
  * Click Save
# 5, Cloudfront:
  * Go to **Distribution > Create**
  * Configure the below option and let the other fields be configured with default option and click **create distribution**:
    - Origin domain: Choose the S3 bucket from Step 2
    - Origin Path: /index.html
    - Viewer protocol policy: Redirect HTTP to HTTPS
    - Web Application Firewall (WAF): Enable
  * Once the distribution is created. Select the distribution and click on **Edit** under the General section.
  * Add alternate domain name . Here fill the appropriate entries.
  * For the **Custom SSL certificate**, choose the certificate generated by the ACM at step 3.
  * Click **Save Changes**
  * Go to **Security > Security - Web Application Firewall (WAF)** section
  * Configure the geo loaction at **CloudFront geographic restrictions** and click Save
  * Copy the **Distribution domain name**
# 6, GoDaddy - DNS Forwarding:
  *  Go to the **DNS > Forwarding** section of the GoDaddy domain
  *  Click Add Forwarding
  *  Fill your domain name details
  *  Paste the **Distribution domain name** that was copied in step 5 at the **Destination url** field

# Demo:
  * Launch the website in the browser from a non-restricted region - the index.html page loads
  * Launch the website in the browser from a restricted region - 403 error page appears
